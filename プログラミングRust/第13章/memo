13章　ユーティリティトレイト

標準ライブラリには組み込みトレイトを使って機能をフックできる場所が設けられている。

Rustはある値の所有者がいなくなるとドロップする。
ほとんどの場合において自動的にドロップしてくれる。

std::opt::Dropトレイトを利用すれば独自に実装できる。

Sized型はメモリ上でのサイズが常に同じになる型。ほとんどの型はこれ。
数は少ないがunsizedな型も存在する。文字スライス型strがそれ。
あとはトレイトオブジェクトの参照先。
基本はsizedにすべき。ただsizedでなくても良い場合、?Sizedでsizedでなくてもよいとなる。

std::clone::Cloneは自身のコピーを作ることができる型のトレイト。
Selfの独立したコピーを作りそれを返す。メソッドの返り値はself型になっておりSizedになっている。
コピーして意味のあるものには大体Cloneを実装している。

ある型がAsRef<T>を実装している場合、&Tは効率よく借用できる。AsMutは可変参照。
Borrowも似たような機能ではあるがTとハッシュ値や比較が元の値と同じように行える場合にだけ利用すべきとされている。
FromとIntoはある型の値を消費して別の型を返す変換を表す。